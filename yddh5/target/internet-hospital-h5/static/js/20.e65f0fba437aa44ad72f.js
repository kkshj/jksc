webpackJsonp([20],{SmZD:function(e,t){},epo2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("HzJ8"),r=s.n(i),n=s("mMon"),o=s("eoeZ"),a=s("uVW5"),c=s("9rMa"),v={data:function(){return{message:"",load_show:!1,notice_show:"",doctorList:[],nurseList:[]}},components:{NoticeDialog:n.a,Notice:o.a,Loading:a.a},computed:Object(c.b)({header:function(e){return""===e.header&&this.$store.commit("setUser",JSON.parse(localStorage.getItem("loginInfo"))),e.header},userId:function(e){return""===e.userId&&this.$store.commit("setUser",JSON.parse(localStorage.getItem("loginInfo"))),e.userId}}),activated:function(){this.getInfo()},methods:{getInfo:function(){this.getRirstInfo()},getRirstInfo:function(){var e=this,t=this;if(console.log(t.userId),t.userId){var s=t.$conf.url+"/internethospital/api/users/"+t.userId+"/favorites/doctors?page-index=1&page-size=10000";t.$axios.get(s,{headers:this.$store.state.header}).then(function(e){console.log(e);var s=e.data.content;for(var i in s){var n=s[i].services.indexOf(s[i].services.find(function(e){return"CONSULT"===e.code}));n>0&&(s[i].services[0]=[s[i].services[n],s[i].services[n]=s[i].services[0]][0]),s[i].doctorAvatar?s[i].doctorAvatar=s[i].doctorAvatar+"-doctor_list":s[i].doctorAvatar="/static/images/defualt-header.png",s[i].services.find(function(e){return"CONSULT_FREE"===e.code})&&(s[i].services.find(function(e){return"CONSULT_FREE"===e.code}).inventoryQuantity||s[i].services.find(function(e){return"CONSULT_FREE"===e.code}).inventoryQuantity>0)&&(s[i].volunteers=s[i].services.find(function(e){return"CONSULT_FREE"===e.code}).inventoryQuantity),s[i].text=s[i].text.length<35?s[i].text:s[i].text.slice(0,36)+"...",s[i].services[0]&&s[i].services[0].price.toString().indexOf(".")<0?s[i].services[0].price=s[i].services[0].price+".00":s[i].services[0]&&2!==s[i].services[0].price.toString().slice(s[i].services[0].price.toString().indexOf(".")+1).length&&(s[i].services[0].price=s[i].services[0].price+"0"),s[i].text=s[i].text.length<35?s[i].text:s[i].text.slice(0,36)+"...";var o=s[i].statistics.filter(function(e){return"ORDER"===e.type}),a=0,c=!0,v=!1,u=void 0;try{for(var l,d=r()(o);!(c=(l=d.next()).done);c=!0){a+=l.value.quantity}}catch(e){v=!0,u=e}finally{try{!c&&d.return&&d.return()}finally{if(v)throw u}}s[i].customerCount=a}t.doctorList=s});var i=t.$conf.url+"/internethospital/api/users/"+t.userId+"/favorites/nurses?page-index=1&page-size=10000";t.$axios.get(i,{headers:this.$store.state.header}).then(function(e){console.log(e);var s=e.data.content;for(var i in s=s.filter(function(e){return e.services.length>0})){var n=s[i].services.indexOf(s[i].services.find(function(e){return"CONSULT"===e.code}));n>0&&(s[i].services[0]=[s[i].services[n],s[i].services[n]=s[i].services[0]][0]),s[i].nurseAvatar?s[i].nurseAvatar=s[i].nurseAvatar+"-doctor_list":s[i].nurseAvatar="/static/images/defualt-header.png",s[i].services.find(function(e){return"CONSULT_FREE"===e.code})&&(s[i].services.find(function(e){return"CONSULT_FREE"===e.code}).inventoryQuantity||s[i].services.find(function(e){return"CONSULT_FREE"===e.code}).inventoryQuantity>0)&&(s[i].volunteers=s[i].services.find(function(e){return"CONSULT_FREE"===e.code}).inventoryQuantity),s[i].text=s[i].text.length<35?s[i].text:s[i].text.slice(0,36)+"...",s[i].services[0]&&s[i].services[0].price.toString().indexOf(".")<0?s[i].services[0].price=s[i].services[0].price+".00":s[i].services[0]&&2!==s[i].services[0].price.toString().slice(s[i].services[0].price.toString().indexOf(".")+1).length&&(s[i].services[0].price=s[i].services[0].price+"0");var o=s[i].statistics.filter(function(e){return"CONSULTATION"===e.scene&&null==e.orderTypeId}),a=0,c=!0,v=!1,u=void 0;try{for(var l,d=r()(o);!(c=(l=d.next()).done);c=!0){a+=l.value.quantity}}catch(e){v=!0,u=e}finally{try{!c&&d.return&&d.return()}finally{if(v)throw u}}s[i].customerCount=a}t.nurseList=s})}else this.notice_show="请先完成注册，即将为您跳转到注册页面",setTimeout(function(){e.notice_show="",e.$router.push("/register-login")},2e3)},jumpTo:function(e){this.$store.commit("changePageType","package-page"),e.doctorId?this.$router.push("/doctor/"+e.doctorId):this.$router.push("/nurse/"+e.nurseId)}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page"},[0===e.doctorList.length?s("div",{staticClass:"emp"},[s("img",{attrs:{src:"static/images/empty-follow.png"}}),e._v(" "),s("span",[e._v("你还没有关注医生")])]):e._e(),e._v(" "),s("div",{staticClass:"section"},[e.doctorList.length>0?s("div",{staticClass:"doctor"},e._l(e.doctorList,function(t,i){return s("li",{key:t.doctorId,on:{click:function(s){e.jumpTo(t)}}},[s("img",{staticClass:"left",attrs:{src:t.doctorAvatar}}),e._v(" "),s("div",{staticClass:"left"},[s("div",[s("span",{staticClass:"left"},[e._v(e._s(t.doctorName))]),e._v(" "),s("span",{staticClass:"left"},[e._v(e._s(t.positionalTitleText?t.positionalTitleText:t.standPositionalTitleText))]),e._v(" "),t.volunteers>0?s("span",{staticClass:"right"},[e._v("义诊"+e._s(t.volunteers))]):e._e()]),e._v(" "),s("div",[s("span",[e._v(e._s(t.organizationText))]),s("span",[e._v(e._s(t.departmentText))])]),e._v(" "),s("div",[s("span",[e._v(e._s(t.text))])]),e._v(" "),s("div",[s("span",{staticClass:"left"},[e._v("￥"+e._s(t.services[0].price)+"/次")]),s("span",{staticClass:"right"},[e._v(e._s(t.customerCount)+"人已问诊")])])])])})):e._e(),e._v(" "),e.nurseList.length>0?s("div",{staticClass:"doctor"},e._l(e.nurseList,function(t,i){return s("li",{key:t.nurseId,on:{click:function(s){e.jumpTo(t)}}},[s("img",{staticClass:"left",attrs:{src:t.nurseAvatar}}),e._v(" "),s("div",{staticClass:"left"},[s("div",[s("span",{staticClass:"left"},[e._v(e._s(t.nurseName))]),e._v(" "),s("span",{staticClass:"left"},[e._v(e._s(t.positionalTitleText?t.positionalTitleText:t.standPositionalTitleText))]),e._v(" "),t.volunteers>0?s("span",{staticClass:"right"},[e._v("义诊"+e._s(t.volunteers))]):e._e()]),e._v(" "),s("div",[s("span",[e._v(e._s(t.organizationText))]),s("span",[e._v(e._s(t.departmentText))])]),e._v(" "),s("div",[s("span",[e._v(e._s(t.text))])]),e._v(" "),s("div",[s("span",{staticClass:"left"},[e._v("￥"+e._s(t.services[0].price)+"/次")]),s("span",{staticClass:"right"},[e._v(e._s(t.customerCount)+"人已问诊")])])])])})):e._e()]),e._v(" "),s("notice",{directives:[{name:"show",rawName:"v-show",value:e.notice_show,expression:"notice_show"}],attrs:{message:e.notice_show}}),e._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:e.load_show,expression:"load_show"}]})],1)},staticRenderFns:[]};var l=s("C7Lr")(v,u,!1,function(e){s("SmZD")},"data-v-5cd684d0",null);t.default=l.exports}});
//# sourceMappingURL=20.e65f0fba437aa44ad72f.js.map