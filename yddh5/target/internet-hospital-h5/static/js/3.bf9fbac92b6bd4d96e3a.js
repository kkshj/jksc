webpackJsonp([3],{"2LoE":function(t,e,n){t.exports={default:n("S1jn"),__esModule:!0}},"5FyJ":function(t,e,n){var o=n("C02x"),i=n("AKd3"),s=n("bgFz"),r=n("CVJP"),a=n("lIiZ").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=s?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:r.f(t)})}},"7J6k":function(t,e,n){var o=n("/r4/"),i=n("9akD").f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?function(t){try{return i(t)}catch(t){return r.slice()}}(t):i(o(t))}},"9akD":function(t,e,n){var o=n("eqTP"),i=n("zDlt").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},CVJP:function(t,e,n){e.f=n("biYF")},DVkV:function(t,e,n){var o=n("pplb")("meta"),i=n("8Nvm"),s=n("Mcur"),r=n("lIiZ").f,a=0,c=Object.isExtensible||function(){return!0},u=!n("BRDz")(function(){return c(Object.preventExtensions({}))}),l=function(t){r(t,o,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,o)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[o].i},getWeak:function(t,e){if(!s(t,o)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[o].w},onFreeze:function(t){return u&&f.NEED&&c(t)&&!s(t,o)&&l(t),t}}},JBI7:function(t,e,n){var o=n("T9r1");t.exports=Array.isArray||function(t){return"Array"==o(t)}},KGKV:function(t,e,n){n("5FyJ")("observable")},Lu3d:function(t,e){},"MqD/":function(t,e,n){var o=n("XvZ9"),i=n("go9Q"),s=n("/r4/"),r=n("J35F"),a=n("Mcur"),c=n("SS50"),u=Object.getOwnPropertyDescriptor;e.f=n("sjnA")?u:function(t,e){if(t=s(t),e=r(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return i(!o.f.call(t,e),t[e])}},Oc2Y:function(t,e,n){"use strict";var o=n("C02x"),i=n("Mcur"),s=n("sjnA"),r=n("FITv"),a=n("EyUJ"),c=n("DVkV").KEY,u=n("BRDz"),l=n("KV1y"),f=n("XAI7"),h=n("pplb"),p=n("biYF"),d=n("CVJP"),g=n("5FyJ"),m=n("kCDZ"),v=n("JBI7"),y=n("93K8"),b=n("8Nvm"),_=n("/r4/"),I=n("J35F"),C=n("go9Q"),S=n("c1o2"),w=n("7J6k"),O=n("MqD/"),E=n("lIiZ"),N=n("5pnV"),x=O.f,P=E.f,k=w.f,$=o.Symbol,J=o.JSON,j=J&&J.stringify,T=p("_hidden"),L=p("toPrimitive"),U={}.propertyIsEnumerable,z=l("symbol-registry"),F=l("symbols"),q=l("op-symbols"),D=Object.prototype,A="function"==typeof $,M=o.QObject,V=!M||!M.prototype||!M.prototype.findChild,K=s&&u(function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=x(D,e);o&&delete D[e],P(t,e,n),o&&t!==D&&P(D,e,o)}:P,W=function(t){var e=F[t]=S($.prototype);return e._k=t,e},Z=A&&"symbol"==typeof $.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof $},R=function(t,e,n){return t===D&&R(q,e,n),y(t),e=I(e,!0),y(n),i(F,e)?(n.enumerable?(i(t,T)&&t[T][e]&&(t[T][e]=!1),n=S(n,{enumerable:C(0,!1)})):(i(t,T)||P(t,T,C(1,{})),t[T][e]=!0),K(t,e,n)):P(t,e,n)},X=function(t,e){y(t);for(var n,o=m(e=_(e)),i=0,s=o.length;s>i;)R(t,n=o[i++],e[n]);return t},Y=function(t){var e=U.call(this,t=I(t,!0));return!(this===D&&i(F,t)&&!i(q,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,T)&&this[T][t])||e)},Q=function(t,e){if(t=_(t),e=I(e,!0),t!==D||!i(F,e)||i(q,e)){var n=x(t,e);return!n||!i(F,e)||i(t,T)&&t[T][e]||(n.enumerable=!0),n}},B=function(t){for(var e,n=k(_(t)),o=[],s=0;n.length>s;)i(F,e=n[s++])||e==T||e==c||o.push(e);return o},G=function(t){for(var e,n=t===D,o=k(n?q:_(t)),s=[],r=0;o.length>r;)!i(F,e=o[r++])||n&&!i(D,e)||s.push(F[e]);return s};A||(a(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===D&&e.call(q,n),i(this,T)&&i(this[T],t)&&(this[T][t]=!1),K(this,t,C(1,n))};return s&&V&&K(D,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),O.f=Q,E.f=R,n("9akD").f=w.f=B,n("XvZ9").f=Y,n("j6Iq").f=G,s&&!n("bgFz")&&a(D,"propertyIsEnumerable",Y,!0),d.f=function(t){return W(p(t))}),r(r.G+r.W+r.F*!A,{Symbol:$});for(var H="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;H.length>tt;)p(H[tt++]);for(var et=N(p.store),nt=0;et.length>nt;)g(et[nt++]);r(r.S+r.F*!A,"Symbol",{for:function(t){return i(z,t+="")?z[t]:z[t]=$(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),r(r.S+r.F*!A,"Object",{create:function(t,e){return void 0===e?S(t):X(S(t),e)},defineProperty:R,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:B,getOwnPropertySymbols:G}),J&&r(r.S+r.F*(!A||u(function(){var t=$();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=e=o[1],(b(e)||void 0!==t)&&!Z(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Z(e))return e}),o[1]=e,j.apply(J,o)}}),$.prototype[L]||n("bHZz")($.prototype,L,$.prototype.valueOf),f($,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},S1jn:function(t,e,n){n("IsPG"),n("A1pn"),t.exports=n("CVJP").f("iterator")},WAQe:function(t,e,n){n("5FyJ")("asyncIterator")},XvZ9:function(t,e){e.f={}.propertyIsEnumerable},Yyxk:function(t,e,n){t.exports={default:n("sDqF"),__esModule:!0}},hRKE:function(t,e,n){"use strict";e.__esModule=!0;var o=r(n("2LoE")),i=r(n("Yyxk")),s="function"==typeof i.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function r(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===s(o.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":s(t)}},hWUi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("hRKE"),i=n.n(o),s=n("rVsN"),r=n.n(s),a=n("mMon"),c=n("eoeZ"),u=n("uVW5"),l=n("9rMa"),f={name:"home",components:{NoticeDialog:a.a,Notice:c.a,Loading:u.a},data:function(){return{message:"",load_show:!1,notice_show:"",longitude:104.07,latitude:30.67,markers:[],bannerList:[],coupon:null,departments:[],getUserInfo:!1,authorization:!1,hospitalPort:!1,hadCoupon:!1,timer:"",screenWidth:document.body.clientWidth}},computed:Object(l.b)({couponCode:function(t){return""===t.couponCode&&JSON.parse(localStorage.getItem("pageCode"))&&this.$store.commit("setPageCode",JSON.parse(localStorage.getItem("pageCode"))),t.couponCode},authorizations:function(t){return""===t.authorization&&JSON.parse(localStorage.getItem("authorizationInfo"))&&this.$store.commit("setAuthorization",JSON.parse(localStorage.getItem("authorizationInfo"))),t.authorization},questing:function(t){return""===t.questing&&JSON.parse(localStorage.getItem("questing"))&&this.$store.commit("setQuesting",JSON.parse(localStorage.getItem("questing"))),t.questing},hospitalPorts:function(t){return""===t.hospitalPort&&JSON.parse(localStorage.getItem("hospitalInfo"))&&this.$store.commit("setHospital",JSON.parse(localStorage.getItem("hospitalInfo"))),t.hospitalPort},userInfo:function(t){return""===t.userInfo&&JSON.parse(localStorage.getItem("userInfo"))&&this.$store.commit("setUserInfo",JSON.parse(localStorage.getItem("userInfo"))),t.userInfo},hospitalId:function(t){return""===t.hospitalId&&JSON.parse(localStorage.getItem("hospitalInfo"))&&this.$store.commit("setHospital",JSON.parse(localStorage.getItem("hospitalInfo"))),t.hospitalId}}),beforeRouteLeave:function(t,e,n){"/home"==e.path&&(clearInterval(this.timer),this.$destroy()),n()},activated:function(){var t=this.$route.query;console.log(t),this.$store.commit("changePageType","main-page"),console.log(this.$store.state.pageType),this.getInfo(t)},methods:{getInfo:function(t){console.log(this.couponCode),this.couponCode&&(this.hadCoupon=!0,t={couponCode:this.couponCode},this.$store.commit("setPageCode",{couponCode:""})),this.getFirstInfo(t),this.getCarouselImage(),this.getInfoRequest(),this.banner()},clickButton:function(t){console.log(t)},getInfoRequest:function(){var t=this,e=this.$conf.url+"/internethospital/api/departments?page-index=1&page-size=7&show-all=true&stand-department=true";this.$axios.get(e).then(function(e){console.log(e);var n=e.data.content;for(var o in n)n[o].logoUrl||(n[o].logoUrl="static/images/default-department.png");n.push({id:"another",logoUrl:"static/images/another.png",text:"其它科室"}),t.departments=n}).catch(function(t){console.log(t)})},getFirstInfo:function(t){var e=this;if(t&&t.couponCode&&!this.hospitalPorts){var n=this.$conf.url+"/internethospital/api/coupons?page-index=1&page-size=11&coupon-code="+t.couponCode;console.log(n),this.$axios.get(n).then(function(t){if(t.data.content[0]){var n=t.data.content[0]&&t.data.content[0].amount.replace("-","").slice(0,t.data.content[0].amount.replace("-","").indexOf(".")),o={text:t.data.content[0]&&t.data.content[0].text,price:n,code:t.data.content[0]&&t.data.content[0].code};e.coupon=o,e.authorization=e.authorizations,e.hadCoupon=!0,e.getUserInfo=!0}})}this.hospitalPorts&&(this.hospitalPort=!0),this.authorizations||(this.getUserInfo=!0)},getCarouselImage:function(){var t=this,e=this.$conf.url+"/internethospital/api/image-shufflings?page-index=1&page-size=100&platform-type=WECHAT";this.hospitalPort&&(e=e+"&organization-id="+this.hospitalId),this.$axios.get(e).then(function(e){console.log(e);var n=[];if(t.hospitalPort&&0===e.data.content.length){var o=t.$conf.url+"/internethospital/api/image-shufflings?page-index=1&page-size=100&platform-type=WECHAT";return t.$axios.get(o)}for(var i in e.data.content)e.data.content[i].imgUrl=e.data.content[i].imgUrl+"-banners";for(var s=0;s<4;s++)n.push(e.data.content[s]);return n.push(e.data.content[0]),n.unshift(e.data.content[3]),t.bannerList=n,console.log(t.bannerList),r.a.reject({stopPromiseChain:!0})}).then(function(e){for(var n in console.log(e),e.data.content)e.data.content[n].imgUrl=e.data.content[n].imgUrl+"-banners";e.data.content.push(e.data.content[0]),e.data.content.unshift(e.data.content[3]),t.bannerList=e.data.content}).catch(function(t){console.log(t)})},notNow:function(){this.getUserInfo=!1,this.$router.push("/home")},makeChoise:function(t){t.detail.userInfo?(this.getUserInfo=!1,this.authorizations=!0,this.userInfo=t.detail.userInfo,this.$router.push("/register-login")):(this.getUserInfo=!1,this.$router.push("/home"))},receiveCoupon:function(t){var e=this;if(console.log(t),this.authorizations&&this.userId){var n=this.$conf.url+"/internethospital/api/coupons/"+this.coupon.code+"/transactions?userId="+this.userId+"&quantity=1";this.$axios.post(n,{}).then(function(t){e.notice_show="领取成功",setTimeout(function(){e.getUserInfo=!1,e.notice_show=""},2e3)}).catch(function(t){e.notice_show=t.response.data.message,setTimeout(function(){e.notice_show=""},2e3)})}else t||this.userInfo?(console.log(t),this.getUserInfo=!1,this.authorizations=!0,this.userInfo=t,this.$router.push("/register-login?couponCode="+this.coupon.code)):(this.getUserInfo=!1,this.$router.push("/home"))},jumpTo:function(t,e){this.$store.commit("changePageType","package-page");var n=void 0;n=e?"/doctor?departmentId="+e+"&type="+t:"/"+t,this.$router.push(n)},transitionEnd:function(t,e){if(!t||"object"!=(void 0===t?"undefined":i()(t)))return!1;t.addEventListener("transitionEnd",function(){e&&e()}),t.addEventListener("webkitTransitionEnd",function(){e&&e()})},tap:function(t,e){if(!t||"object"!=(void 0===t?"undefined":i()(t)))return!1;var n=!1,o=0;t.addEventListener("touchstart",function(){o=Date.now()}),t.addEventListener("touchmove",function(){n=!0}),window.addEventListener("touchend",function(t){!n&&Date.now()-o<150&&e&&e(t),n=!1,o=0})},banner:function(){var t=this,e=document.querySelector(".banner"),n=e.offsetWidth;console.log(n);var o=e.querySelector("ul:first-child"),i=e.querySelector("ul:last-child").querySelectorAll("li"),s=function(){o.style.transition="all 0.4s",o.style.webkitTransition="all 0.4s"},r=function(){o.style.transition="none",o.style.webkitTransition="none"},a=function(e){var n=e/t.screenWidth*100;o.style.transform="translateX("+n+"vw)",o.style.webkitTransform="translateX("+n+"vw)"},c=1;t.timer=setInterval(function(){c++,s(),a(-c*n)},3e3),this.transitionEnd(o,function(){c>4?c=1:c<=0&&(c=4),r(),a(-c*n),u()});var u=function(){for(var t=0;t<i.length;t++)i[t].className=" ";i[c-1].className="now"},l=0,f=0,h=0,p=!1;o.addEventListener("touchstart",function(e){clearInterval(t.timer),l=e.touches[0].clientX}),o.addEventListener("touchmove",function(t){f=t.touches[0].clientX,h=f-l,r(),a(-c*n+h),p=!0}),o.addEventListener("touchend",function(e){p&&Math.abs(h)>n/3&&(h>0?c--:c++),s(),a(-c*n),c>4?c=1:c<=0&&(c=4),u(),l=0,f=0,h=0,p=!1,clearInterval(t.timer),t.timer=setInterval(function(){c++,s(),a(-c*n)},3e3)})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"scroll-view"},[n("div",{staticClass:"header"},[n("div",{staticClass:"search-bar"},[n("div",{staticClass:"weash"}),t._v(" "),n("div",{staticClass:"left",staticStyle:{opacity:"1"},on:{click:function(e){t.jumpTo("search")}}},[n("input",{staticStyle:{opacity:"1"},attrs:{placeholder:"搜索医生",disabled:""}})]),t._v(" "),n("img",{attrs:{src:"static/images/home-decorate.png"}})]),t._v(" "),t.bannerList?n("div",{staticClass:"layouted"},[n("div",{staticClass:"layout"},[n("div",{staticClass:"banner"},[n("ul",{staticClass:"clearfix"},t._l(t.bannerList,function(t,e){return n("li",{key:e},[n("a",{attrs:{href:t.skipLinks}},[n("img",{attrs:{src:t.imgUrl}})])])})),t._v(" "),t._m(0)])])]):t._e()]),t._v(" "),n("div",{staticClass:"btn-box"},[n("button",{staticClass:"left",attrs:{"data-type":"CONSULT","data-id":"none"},on:{click:function(e){t.jumpTo("CONSULT","none")}}},[n("img",{staticClass:"left",attrs:{src:"static/images/online-diagnosis.png"}}),t._v(" "),t._m(1)]),t._v(" "),n("img",{attrs:{src:"static/images/home-shadow.png"}}),t._v(" "),n("button",{staticClass:"left",attrs:{"data-type":"CONSULT_FREE","data-id":"none"},on:{click:function(e){t.jumpTo("CONSULT_FREE","none")}}},[n("img",{staticClass:"left",attrs:{src:"static/images/voluntary-diagnosis.png"}}),t._v(" "),t._m(2)]),t._v(" "),n("img",{attrs:{src:"static/images/home-shadow.png"}}),t._v(" "),n("button",{staticClass:"right",attrs:{"data-type":"CONSULT","data-id":"none"},on:{click:function(e){t.jumpTo("nurse")}}},[n("img",{staticClass:"left",attrs:{src:"static/images/nurse-diagnosis.png"}}),t._v(" "),t._m(3)]),t._v(" "),n("img",{attrs:{src:"static/images/home-shadow.png"}})]),t._v(" "),n("div",{staticClass:"department"},[n("small",[t._v("选科室问医生")]),t._v(" "),n("div",[n("ul",t._l(t.departments,function(e,o){return n("li",{key:e.id,staticClass:"left",attrs:{"data-type":"department","data-id":"item.id"},on:{click:function(n){t.jumpTo("department",e.id)}}},[n("img",{attrs:{src:e.logoUrl}}),t._v(" "),n("small",[t._v(t._s(e.text))])])}))])])]),t._v(" "),n("notice",{directives:[{name:"show",rawName:"v-show",value:t.notice_show,expression:"notice_show"}],attrs:{message:t.notice_show}}),t._v(" "),n("loading",{directives:[{name:"show",rawName:"v-show",value:t.load_show,expression:"load_show"}]})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",{staticClass:"now"}),this._v(" "),e("li"),this._v(" "),e("li"),this._v(" "),e("li")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("small",[this._v("网络门诊")]),this._v(" "),e("small",[this._v("在线问诊开处方 药品配送到家")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("small",[this._v("今日义诊")]),this._v(" "),e("small",[this._v("名医爱心服务")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("small",[this._v("护理专家在线")]),this._v(" "),e("small",[this._v("健康咨询指导")])])}]};var p=n("C7Lr")(f,h,!1,function(t){n("Lu3d")},"data-v-772c65f5",null);e.default=p.exports},j6Iq:function(t,e){e.f=Object.getOwnPropertySymbols},kCDZ:function(t,e,n){var o=n("5pnV"),i=n("j6Iq"),s=n("XvZ9");t.exports=function(t){var e=o(t),n=i.f;if(n)for(var r,a=n(t),c=s.f,u=0;a.length>u;)c.call(t,r=a[u++])&&e.push(r);return e}},sDqF:function(t,e,n){n("Oc2Y"),n("Gquc"),n("WAQe"),n("KGKV"),t.exports=n("AKd3").Symbol}});
//# sourceMappingURL=3.bf9fbac92b6bd4d96e3a.js.map