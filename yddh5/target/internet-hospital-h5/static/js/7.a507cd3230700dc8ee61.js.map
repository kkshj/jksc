{"version":3,"sources":["webpack:///src/components/register-login.component.vue","webpack:///./src/components/register-login.component.vue?85f7","webpack:///./src/components/register-login.component.vue","webpack:///./static/images/decorate-register.png","webpack:///./static/images/logo.png"],"names":["register_login_component","name","components","NoticeDialog","notice_dialog_component","Notice","notice_component","Loading","loading_component","data","accountExist","phoneErr","accountErr","passLength","passErr","password","confirmPassword","notice","methods","changeLoginType","this","enterPhone","_this","length","url","$conf","$axios","post","then","res","console","log","setTimeout","checkPhone","_this2","test","checkPassword","_this3","onTapBtn","isLogin","login","register","type","_this4","username","$store","commit","jumpTo","catch","err","response","message","route","id","$router","push","components_register_login_component","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","src","__webpack_require__","directives","rawName","value","expression","class","placeholder","maxlength","domProps","on","input","$event","target","composing","focusout","_e","click","_s","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/7.a507cd3230700dc8ee61.js","sourcesContent":["<template>\r\n  <div class=\"page\">\r\n    <div class='logo-box'>\r\n      <img src='../../static/images/logo.png'>\r\n    </div>\r\n    <img src='../../static/images/decorate-register.png'>\r\n    <form>\r\n      <input  :class='phoneErr === \"error\" || accountErr === \"error\" ? \"error\" : phoneErr === \"success\" && accountErr === \"success\" ? \"success\" : \"\"' placeholder='请输入手机号' v-model=\"name\" type='tel' maxlength='11' @input=\"enterPhone\" @focusout=\"checkPhone\" >\r\n      <input type=\"password\" :class='passLength === \"error\" ? \"error\" : passLength === \"success\" ? \"success\" : \"\"' placeholder='请输入你的密码' v-model=\"password\" @focusout=\"checkPassword\">\r\n      <input v-if=\"!accountExist\" type=\"password\" :class='passErr === \"error\" ? \"error\" : passErr === \"success\" ? \"success\" : \"\"' v-model=\"confirmPassword\" placeholder='请确认你的密码'>\r\n    </form>\r\n    <button type=\"button\" @click='onTapBtn(accountExist)'>{{accountExist ? '登  陆' : '注册并登陆'}}</button>\r\n    <span class='change-bind' @click='changeLoginType()' v-if=\"!accountExist\">已有账号？前往登陆</span>\r\n    <span class='change-bind' @click='changeLoginType()' v-if=\"accountExist\">暂无账号？前往注册</span>\r\n    <notice v-if=\"notice\" :message=\"notice\"></notice>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import NoticeDialog from './notice-dialog.component'\r\n  import Notice from './notice.component'\r\n  import Loading from './loading.component'\r\n  export default {\r\n    name: \"register-login\",\r\n    components: {\r\n      NoticeDialog,\r\n      Notice,\r\n      Loading\r\n    },\r\n    data () {\r\n        return {\r\n          accountExist: true,\r\n          phoneErr: 'unknown',\r\n          accountErr: 'unknown',\r\n          passLength: 'unknown',\r\n          passErr: 'unknown',\r\n          name: '',\r\n          password: '',\r\n          confirmPassword: '',\r\n          notice: ''\r\n        }\r\n    },\r\n    methods: {\r\n      changeLoginType () {\r\n        this.phoneErr = 'unknown';\r\n        this.accountErr = 'unknown';\r\n        this.passLength = 'unknown';\r\n        this.passErr = 'unknown';\r\n        this.accountExist = !this.accountExist\r\n      },\r\n      enterPhone () {\r\n        if (this.name.length === 11) {\r\n          const url = `${this.$conf.url}/users/channels/internet-hospital/micro-app/action/check-user-has-created?phone=${this.name}`;\r\n          this.$axios.post(url, {}).then(res => {\r\n            console.log(res.data)\r\n            if (res.data && !this.accountExist) {\r\n              this.notice = '账号已注册';\r\n              this.accountErr = 'error';\r\n              setTimeout(() => {\r\n                this.notice =''\r\n              }, 2000);\r\n              return;\r\n            }\r\n            if (!res.data && this.accountExist){\r\n              this.notice = '尚未注册';\r\n              this.accountErr = 'error';\r\n              setTimeout(() => {\r\n                this.notice =''\r\n              }, 2000);\r\n              return;\r\n            }\r\n            if (!this.accountExist)\r\n              this.accountErr = 'success';\r\n            else\r\n              this.accountErr = 'unknown';\r\n          })\r\n        }\r\n      },\r\n      checkPhone () {\r\n        if (!/^1\\d{10}$/g.test(this.name)) {\r\n          this.phoneErr= 'error';\r\n          this.notice = '请输入十一位手机号';\r\n          setTimeout(() => {\r\n            this.notice =''\r\n          }, 2000);\r\n          return false\r\n        }\r\n        if (/^1\\d{10}$/g.test(this.name) && !this.accountExist) {\r\n          this.phoneErr = 'success';\r\n          return true\r\n        } else if (/^1\\d{10}$/g.test(this.name)) {\r\n          this.phoneErr = 'unknown';\r\n        }\r\n      },\r\n      checkPassword () {\r\n        if (!this.accountExist) {\r\n          if (this.password.length < 6) {\r\n            this.passLength= 'error';\r\n            this.notice = '请输入六位以上密码';\r\n            setTimeout(() => {\r\n              this.notice =''\r\n            }, 2000);\r\n            return false\r\n          } else {\r\n            this.passLength = 'success';\r\n            return true\r\n          }\r\n        } else {\r\n          this.passLength = 'unknown'\r\n        }\r\n      },\r\n      onTapBtn (isLogin) {\r\n        if (isLogin) {\r\n          this.login('login');\r\n        } else {\r\n          this.register();\r\n        }\r\n      },\r\n      register () {\r\n\r\n      },\r\n      login (type) {\r\n        const url = `${this.$conf.url}/users/channels/internet-hospital/token`;\r\n        const data = {\r\n          username: this.name,\r\n          password: this.password\r\n        }\r\n        this.$axios.post(url, data).then(res => {\r\n          console.log(res)\r\n          this.$store.commit('setUser', res.data);\r\n          this.jumpTo('home')\r\n        }).catch(err => {\r\n          this.notice = err.response.data.message;\r\n          setTimeout(()=>{\r\n            this.notice = ''\r\n          }, 2000)\r\n        })\r\n      },\r\n      jumpTo(route, id) {\r\n        if (id) {\r\n          this.$router.push(`/${route}/${id}`);\r\n          return\r\n        }\r\n        this.$router.push(`/${route}`);\r\n\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @function vm($px) {\r\n    @return ($px / 750) * 100vw;\r\n  }\r\n  .page{\r\n    background-color: #ffffff;\r\n  }\r\n  .logo-box{\r\n    height: vm(260);\r\n    width: 100vw;\r\n    background-color: #16A9F6;\r\n  }\r\n  .logo-box::before{\r\n    content: '';\r\n    display: table;\r\n  }\r\n  .logo-box>img{\r\n    display: block;\r\n    width: vm(200);\r\n    margin: vm(40) auto;\r\n  }\r\n  .logo-box+img{\r\n    display: block;\r\n    width: 100vw;\r\n  }\r\n\r\n  form{\r\n    display: block;\r\n    margin-top: vm(60);\r\n  }\r\n  form input{\r\n    display: block;\r\n    box-sizing: border-box;\r\n    width: vm(600);\r\n    height: vm(88);\r\n    margin: 0 auto vm(50);\r\n    border-radius: vm(4);\r\n    background-color: #f5f5f5;\r\n    padding: 0 vm(30);\r\n    font-size: vm(28);\r\n  }\r\n  form input.error{\r\n    outline: #FF624D solid thin;\r\n  }\r\n  form input.success{\r\n    outline: #16A9F6 solid thin;\r\n  }\r\n\r\n  button{\r\n    display: block;\r\n    width: vm(400);\r\n    height: vm(88);\r\n    background-color: #16A9F6;\r\n    border-radius: vm(44);\r\n    color: #ffffff;\r\n    margin: vm(40) auto 0;\r\n    font-size: vm(36);\r\n  }\r\n\r\n  .change-bind{\r\n    display: block;\r\n    width: 100vw;\r\n    font-size: vm(26);\r\n    color: #16A9F6;\r\n    text-align: center;\r\n    margin-top: vm(40);\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/register-login.component.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_vm._m(0),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"../../static/images/decorate-register.png\")}}),_vm._v(\" \"),_c('form',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],class:_vm.phoneErr === \"error\" || _vm.accountErr === \"error\" ? \"error\" : _vm.phoneErr === \"success\" && _vm.accountErr === \"success\" ? \"success\" : \"\",attrs:{\"placeholder\":\"请输入手机号\",\"type\":\"tel\",\"maxlength\":\"11\"},domProps:{\"value\":(_vm.name)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.name=$event.target.value},_vm.enterPhone],\"focusout\":_vm.checkPhone}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],class:_vm.passLength === \"error\" ? \"error\" : _vm.passLength === \"success\" ? \"success\" : \"\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入你的密码\"},domProps:{\"value\":(_vm.password)},on:{\"focusout\":_vm.checkPassword,\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._v(\" \"),(!_vm.accountExist)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirmPassword),expression:\"confirmPassword\"}],class:_vm.passErr === \"error\" ? \"error\" : _vm.passErr === \"success\" ? \"success\" : \"\",attrs:{\"type\":\"password\",\"placeholder\":\"请确认你的密码\"},domProps:{\"value\":(_vm.confirmPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmPassword=$event.target.value}}}):_vm._e()]),_vm._v(\" \"),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.onTapBtn(_vm.accountExist)}}},[_vm._v(_vm._s(_vm.accountExist ? '登  陆' : '注册并登陆'))]),_vm._v(\" \"),(!_vm.accountExist)?_c('span',{staticClass:\"change-bind\",on:{\"click\":function($event){_vm.changeLoginType()}}},[_vm._v(\"已有账号？前往登陆\")]):_vm._e(),_vm._v(\" \"),(_vm.accountExist)?_c('span',{staticClass:\"change-bind\",on:{\"click\":function($event){_vm.changeLoginType()}}},[_vm._v(\"暂无账号？前往注册\")]):_vm._e(),_vm._v(\" \"),(_vm.notice)?_c('notice',{attrs:{\"message\":_vm.notice}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo-box\"},[_c('img',{attrs:{\"src\":require(\"../../static/images/logo.png\")}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-74e7b3ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/register-login.component.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74e7b3ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./register-login.component.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./register-login.component.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./register-login.component.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74e7b3ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./register-login.component.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-74e7b3ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/register-login.component.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/decorate-register.6c80234.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/images/decorate-register.png\n// module id = Jng+\n// module chunks = 7","module.exports = __webpack_public_path__ + \"static/img/logo.cf26717.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/images/logo.png\n// module id = Z2Ou\n// module chunks = 7"],"sourceRoot":""}